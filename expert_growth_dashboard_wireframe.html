<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Expert Growth Dashboard ‚Äî Wireframe</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
<style>
  :root {
    --navy: #1E3A5F;
    --blue: #2E6DA4;
    --accent: #4A90D9;
    --light-blue: #D5E8F0;
    --bg: #F4F6F9;
    --white: #FFFFFF;
    --gray-100: #F8F9FA;
    --gray-200: #E9ECEF;
    --gray-400: #CED4DA;
    --gray-600: #6C757D;
    --gray-800: #343A40;
    --green: #28A745;
    --yellow: #FFC107;
    --red: #DC3545;
    --green-light: #D4EDDA;
    --yellow-light: #FFF3CD;
    --red-light: #F8D7DA;
    --font: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: var(--font);
    background: var(--bg);
    color: var(--gray-800);
    min-height: 100vh;
  }

  /* TOP NAV */
  .topnav {
    background: var(--navy);
    display: flex;
    align-items: center;
    padding: 0 24px;
    height: 56px;
    gap: 32px;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  }
  .topnav-brand {
    font-size: 16px;
    font-weight: 700;
    color: white;
    letter-spacing: 0.5px;
    white-space: nowrap;
  }
  .topnav-brand span { color: var(--accent); }
  .topnav-tabs {
    display: flex;
    gap: 4px;
    flex: 1;
  }
  .tab {
    padding: 8px 18px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 500;
    color: rgba(255,255,255,0.65);
    cursor: pointer;
    transition: all 0.15s;
    white-space: nowrap;
  }
  .tab:hover { background: rgba(255,255,255,0.1); color: white; }
  .tab.active { background: var(--accent); color: white; font-weight: 600; }
  .topnav-right {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 12px;
    color: rgba(255,255,255,0.6);
  }
  .badge-live {
    background: var(--green);
    color: white;
    font-size: 10px;
    font-weight: 700;
    padding: 2px 7px;
    border-radius: 10px;
    letter-spacing: 0.5px;
  }

  /* FILTER RAIL */
  .filter-rail {
    background: white;
    border-bottom: 1px solid var(--gray-200);
    padding: 12px 24px;
    display: flex;
    align-items: center;
    gap: 16px;
    flex-wrap: wrap;
  }
  .filter-label { font-size: 11px; font-weight: 600; color: var(--gray-600); text-transform: uppercase; letter-spacing: 0.5px; }
  .filter-chip {
    display: flex;
    align-items: center;
    gap: 6px;
    background: var(--gray-100);
    border: 1px solid var(--gray-400);
    border-radius: 6px;
    padding: 5px 12px;
    font-size: 12px;
    font-weight: 500;
    color: var(--gray-800);
    cursor: pointer;
  }
  .filter-chip select {
    border: none;
    background: transparent;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    outline: none;
  }
  .filter-chip.active { border-color: var(--accent); background: #EBF4FF; color: var(--blue); }
  .filter-divider { width: 1px; height: 24px; background: var(--gray-200); }
  .date-range {
    display: flex;
    gap: 4px;
  }
  .date-btn {
    padding: 4px 10px;
    font-size: 11px;
    font-weight: 600;
    border-radius: 4px;
    cursor: pointer;
    color: var(--gray-600);
    border: 1px solid var(--gray-400);
  }
  .date-btn.active { background: var(--navy); color: white; border-color: var(--navy); }

  /* MAIN LAYOUT */
  .main {
    padding: 20px 24px;
    display: none;
  }
  .main.active { display: block; }

  /* STAT CARDS */
  .stat-row {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 12px;
    margin-bottom: 20px;
  }
  .stat-card {
    background: white;
    border-radius: 10px;
    padding: 16px 18px;
    border: 1px solid var(--gray-200);
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
  }
  .stat-label { font-size: 11px; font-weight: 600; color: var(--gray-600); text-transform: uppercase; letter-spacing: 0.4px; margin-bottom: 6px; }
  .stat-value { font-size: 28px; font-weight: 700; color: var(--navy); line-height: 1; }
  .stat-sub { font-size: 11px; color: var(--gray-600); margin-top: 4px; }
  .stat-delta { font-size: 12px; font-weight: 600; margin-top: 4px; }
  .stat-delta.up { color: var(--green); }
  .stat-delta.down { color: var(--red); }

  /* SECTION HEADER */
  .section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 14px;
  }
  .section-title {
    font-size: 14px;
    font-weight: 700;
    color: var(--navy);
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .section-title .dot {
    width: 8px; height: 8px;
    background: var(--accent);
    border-radius: 50%;
  }
  .section-action {
    font-size: 12px;
    color: var(--accent);
    font-weight: 500;
    cursor: pointer;
  }

  /* GRID LAYOUTS */
  .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px; }
  .three-col { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 20px; }
  .col-6040 { display: grid; grid-template-columns: 60% 40%; gap: 16px; margin-bottom: 20px; }
  .col-4060 { display: grid; grid-template-columns: 40% 60%; gap: 16px; margin-bottom: 20px; }

  /* CARD */
  .card {
    background: white;
    border-radius: 10px;
    border: 1px solid var(--gray-200);
    padding: 18px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
  }

  /* PROJECT TABLE */
  .proj-table { width: 100%; border-collapse: collapse; font-size: 12px; }
  .proj-table th {
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--gray-600);
    padding: 6px 10px;
    border-bottom: 2px solid var(--gray-200);
    text-align: left;
    white-space: nowrap;
  }
  .proj-table td {
    padding: 10px 10px;
    border-bottom: 1px solid var(--gray-100);
    vertical-align: middle;
  }
  .proj-table tr:hover td { background: var(--gray-100); }
  .rag-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.3px;
  }
  .rag-green { background: var(--green-light); color: #155724; }
  .rag-yellow { background: var(--yellow-light); color: #856404; }
  .rag-red { background: var(--red-light); color: #721c24; }

  .progress-wrap { width: 100%; background: var(--gray-200); border-radius: 4px; height: 6px; overflow: hidden; }
  .progress-fill { height: 100%; border-radius: 4px; }
  .prog-green { background: var(--green); }
  .prog-yellow { background: var(--yellow); }
  .prog-red { background: var(--red); }

  /* ALERT CARDS */
  .alert-list { display: flex; flex-direction: column; gap: 8px; }
  .alert-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 8px;
    border-left: 4px solid;
    font-size: 12px;
  }
  .alert-red { background: var(--red-light); border-color: var(--red); }
  .alert-yellow { background: var(--yellow-light); border-color: var(--yellow); }
  .alert-blue { background: #EBF4FF; border-color: var(--accent); }
  .alert-icon { font-size: 14px; margin-top: 1px; }
  .alert-text strong { display: block; font-weight: 600; margin-bottom: 2px; color: var(--gray-800); }
  .alert-text span { color: var(--gray-600); }

  /* SANKEY */
  .sankey-container { position: relative; }
  svg { width: 100%; }
  .sankey-label { font-size: 11px; fill: var(--gray-800); font-weight: 600; font-family: var(--font); }
  .sankey-count { font-size: 10px; fill: var(--gray-600); font-family: var(--font); }
  .sankey-rate { font-size: 10px; fill: var(--red); font-weight: 600; font-family: var(--font); }

  /* CHANNEL BARS */
  .channel-row { margin-bottom: 14px; }
  .channel-header { display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px; }
  .channel-name { font-weight: 600; color: var(--gray-800); }
  .channel-meta { display: flex; gap: 12px; }
  .channel-count { color: var(--gray-600); }
  .channel-yield { font-weight: 600; color: var(--accent); }
  .channel-bar-wrap { width: 100%; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden; display: flex; }
  .channel-bar-seg { height: 100%; }

  /* RECRUITER TABLE */
  .rec-table { width: 100%; border-collapse: collapse; font-size: 12px; }
  .rec-table th {
    font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.4px;
    color: var(--gray-600); padding: 6px 10px; border-bottom: 2px solid var(--gray-200);
    text-align: left;
  }
  .rec-table td { padding: 10px 10px; border-bottom: 1px solid var(--gray-100); vertical-align: middle; }
  .rec-table tr:hover td { background: var(--gray-100); }
  .rec-avatar {
    width: 28px; height: 28px; border-radius: 50%;
    background: var(--accent); color: white;
    font-size: 11px; font-weight: 700;
    display: inline-flex; align-items: center; justify-content: center;
    margin-right: 8px;
  }
  .sparkbar-wrap { width: 100px; height: 6px; background: var(--gray-200); border-radius: 3px; overflow: hidden; display: inline-block; vertical-align: middle; }
  .sparkbar { height: 100%; border-radius: 3px; }

  /* HEATMAP */
  .heatmap-table { width: 100%; border-collapse: separate; border-spacing: 3px; font-size: 11px; }
  .heatmap-table th { font-size: 10px; font-weight: 600; color: var(--gray-600); padding: 4px 6px; text-align: center; }
  .heatmap-table td { padding: 6px 8px; border-radius: 4px; text-align: center; font-weight: 600; font-size: 11px; cursor: pointer; }
  .heat-1 { background: #D4EDDA; color: #155724; }
  .heat-2 { background: #FFF3CD; color: #856404; }
  .heat-3 { background: #F8D7DA; color: #721c24; }
  .heat-0 { background: var(--gray-100); color: var(--gray-400); }

  /* MINI DONUT LABELS */
  .mini-stats { display: flex; flex-direction: column; gap: 8px; }
  .mini-stat-row { display: flex; justify-content: space-between; align-items: center; font-size: 12px; }
  .mini-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: 6px; }

  /* SECTION DIVIDER */
  .section-divider { height: 1px; background: var(--gray-200); margin: 4px 0 20px; }

  /* SCROLLABLE TABLE CONTAINER */
  .table-scroll { overflow-x: auto; }

  /* FOOTER */
  .dash-footer {
    text-align: center;
    padding: 16px;
    font-size: 11px;
    color: var(--gray-600);
    border-top: 1px solid var(--gray-200);
    background: white;
    margin-top: 8px;
  }

  /* LEGEND */
  .legend { display: flex; gap: 16px; flex-wrap: wrap; margin-top: 8px; }
  .legend-item { display: flex; align-items: center; gap: 5px; font-size: 11px; color: var(--gray-600); }
  .legend-swatch { width: 12px; height: 12px; border-radius: 2px; }
</style>
</head>
<body>

<!-- TOP NAV -->
<nav class="topnav">
  <div class="topnav-brand">Pareto <span>AI</span></div>
  <div class="topnav-tabs">
    <div class="tab active" onclick="showTab('overview')">üìä Portfolio Overview</div>
    <div class="tab" onclick="showTab('funnel')">üîÄ Funnel Drill-Down</div>
    <div class="tab" onclick="showTab('channel')">üì° Channel Performance</div>
    <div class="tab" onclick="showTab('recruiter')">üë• Recruiter Performance</div>
  </div>
  <div class="topnav-right">
    <span class="badge-live">‚óè LIVE</span>
    <span>Last updated: 2 min ago</span>
  </div>
</nav>

<!-- FILTER RAIL -->
<div class="filter-rail">
  <span class="filter-label">Filters</span>
  <div class="filter-chip active">
    <select>
      <option>All Clients</option>
      <option>Anthropic</option>
      <option>OpenAI</option>
      <option>Google DeepMind</option>
    </select>
  </div>
  <div class="filter-chip">
    <select>
      <option>All Industries</option>
      <option>Medical / Healthcare</option>
      <option>Legal</option>
      <option>Finance</option>
      <option>STEM</option>
    </select>
  </div>
  <div class="filter-chip">
    <select>
      <option>All Recruiters</option>
      <option>Jason</option>
      <option>Matthew</option>
      <option>Yvenia</option>
      <option>Chandana</option>
      <option>Faraz</option>
      <option>Vishal</option>
    </select>
  </div>
  <div class="filter-chip">
    <select>
      <option>All Channels</option>
      <option>Job Sites</option>
      <option>Reactivation</option>
      <option>Referral</option>
      <option>Paid</option>
      <option>Partners</option>
    </select>
  </div>
  <div class="filter-divider"></div>
  <div class="date-range">
    <div class="date-btn">7D</div>
    <div class="date-btn active">30D</div>
    <div class="date-btn">90D</div>
    <div class="date-btn">Custom</div>
  </div>
</div>

<!-- =================== TAB 1: PORTFOLIO OVERVIEW =================== -->
<div class="main active" id="tab-overview">

  <!-- KPI ROW -->
  <div class="stat-row">
    <div class="stat-card">
      <div class="stat-label">Total Pipeline</div>
      <div class="stat-value">1,847</div>
      <div class="stat-sub">Across 9 active projects</div>
      <div class="stat-delta up">‚Üë 12% vs last month</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Ready to Deploy</div>
      <div class="stat-value">342</div>
      <div class="stat-sub">Fully vetted & onboarded</div>
      <div class="stat-delta up">‚Üë 8% vs last month</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Overall Conversion</div>
      <div class="stat-value">18.5%</div>
      <div class="stat-sub">Sourced ‚Üí Ready</div>
      <div class="stat-delta down">‚Üì 2.1pp vs last month</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Avg. Time to Ready</div>
      <div class="stat-value">11.2d</div>
      <div class="stat-sub">Median across all projects</div>
      <div class="stat-delta down">‚Üë 1.4d vs last month</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Projects At Risk</div>
      <div class="stat-value" style="color:var(--red)">3</div>
      <div class="stat-sub">Gap √ó deadline ‚â• threshold</div>
      <div class="stat-delta down">‚Üë 2 vs last week</div>
    </div>
  </div>

  <div class="col-6040">
    <!-- PROJECT STATUS TABLE -->
    <div class="card">
      <div class="section-header">
        <div class="section-title"><div class="dot"></div>Project Supply Status</div>
        <div class="section-action">Export CSV ‚Üó</div>
      </div>
      <div class="table-scroll">
        <table class="proj-table">
          <thead>
            <tr>
              <th>Project / Client</th>
              <th>Deadline</th>
              <th>Target</th>
              <th>Ready</th>
              <th>Pipeline</th>
              <th>Gap</th>
              <th>Progress</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Medical QA ‚Äî Anthropic</strong></td>
              <td>Mar 7</td><td>80</td><td>61</td><td>18</td>
              <td style="color:var(--green);font-weight:600">‚Äì1</td>
              <td><div class="progress-wrap"><div class="progress-fill prog-green" style="width:76%"></div></div></td>
              <td><span class="rag-badge rag-green">On Track</span></td>
            </tr>
            <tr>
              <td><strong>Legal Review ‚Äî OpenAI</strong></td>
              <td>Mar 12</td><td>120</td><td>44</td><td>52</td>
              <td style="color:var(--yellow);font-weight:600">+24</td>
              <td><div class="progress-wrap"><div class="progress-fill prog-yellow" style="width:45%"></div></div></td>
              <td><span class="rag-badge rag-yellow">At Risk</span></td>
            </tr>
            <tr>
              <td><strong>Finance RLHF ‚Äî Google DM</strong></td>
              <td>Mar 5</td><td>60</td><td>12</td><td>23</td>
              <td style="color:var(--red);font-weight:600">+25</td>
              <td><div class="progress-wrap"><div class="progress-fill prog-red" style="width:20%"></div></div></td>
              <td><span class="rag-badge rag-red">Off Track</span></td>
            </tr>
            <tr>
              <td><strong>STEM Annotation ‚Äî Anthropic</strong></td>
              <td>Mar 20</td><td>200</td><td>142</td><td>67</td>
              <td style="color:var(--green);font-weight:600">‚Äì9</td>
              <td><div class="progress-wrap"><div class="progress-fill prog-green" style="width:71%"></div></div></td>
              <td><span class="rag-badge rag-green">On Track</span></td>
            </tr>
            <tr>
              <td><strong>Language QA ‚Äî OpenAI</strong></td>
              <td>Mar 18</td><td>90</td><td>38</td><td>31</td>
              <td style="color:var(--yellow);font-weight:600">+21</td>
              <td><div class="progress-wrap"><div class="progress-fill prog-yellow" style="width:43%"></div></div></td>
              <td><span class="rag-badge rag-yellow">At Risk</span></td>
            </tr>
            <tr>
              <td><strong>Code Review ‚Äî Cohere</strong></td>
              <td>Apr 1</td><td>150</td><td>103</td><td>54</td>
              <td style="color:var(--green);font-weight:600">‚Äì7</td>
              <td><div class="progress-wrap"><div class="progress-fill prog-green" style="width:69%"></div></div></td>
              <td><span class="rag-badge rag-green">On Track</span></td>
            </tr>
            <tr>
              <td><strong>Policy Research ‚Äî OpenAI</strong></td>
              <td>Mar 8</td><td>40</td><td>9</td><td>14</td>
              <td style="color:var(--red);font-weight:600">+17</td>
              <td><div class="progress-wrap"><div class="progress-fill prog-red" style="width:23%"></div></div></td>
              <td><span class="rag-badge rag-red">Off Track</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ALERTS -->
    <div class="card">
      <div class="section-header">
        <div class="section-title"><div class="dot" style="background:var(--red)"></div>Active Alerts</div>
        <div class="section-action">Mark all read</div>
      </div>
      <div class="alert-list">
        <div class="alert-item alert-red">
          <div class="alert-icon">üî¥</div>
          <div class="alert-text">
            <strong>Finance RLHF ‚Äî Critical Gap</strong>
            <span>25 experts short with 7 days to deadline. Recommend reactivation pool search immediately.</span>
          </div>
        </div>
        <div class="alert-item alert-red">
          <div class="alert-icon">üî¥</div>
          <div class="alert-text">
            <strong>Policy Research ‚Äî Off Track</strong>
            <span>17 expert gap, 10 days to deadline. Vetting stage has 8 experts aged 7+ days.</span>
          </div>
        </div>
        <div class="alert-item alert-yellow">
          <div class="alert-icon">‚ö†Ô∏è</div>
          <div class="alert-text">
            <strong>Legal Review ‚Äî Vetting Bottleneck</strong>
            <span>31% IDV abandonment rate this week ‚Äî up 12pp vs last week. Investigate Persona failure reasons.</span>
          </div>
        </div>
        <div class="alert-item alert-yellow">
          <div class="alert-icon">‚ö†Ô∏è</div>
          <div class="alert-text">
            <strong>Language QA ‚Äî Channel Yield Drop</strong>
            <span>Indeed conversion rate dropped 22% WoW. Screened ‚Üí Vetting stage conversion at 38% (was 61%).</span>
          </div>
        </div>
        <div class="alert-item alert-blue">
          <div class="alert-icon">üí°</div>
          <div class="alert-text">
            <strong>Reactivation Opportunity</strong>
            <span>47 lapsed experts match Finance RLHF skill tags. Fast-track vetting could close gap in 4‚Äì5 days.</span>
          </div>
        </div>
        <div class="alert-item alert-blue">
          <div class="alert-icon">üí°</div>
          <div class="alert-text">
            <strong>Reactivation Opportunity</strong>
            <span>22 lapsed experts match Policy Research skill tags. Contact via email reactivation flow.</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- INDUSTRY HEATMAP -->
  <div class="card" style="margin-bottom:20px">
    <div class="section-header">
      <div class="section-title"><div class="dot"></div>Supply Coverage Heatmap ‚Äî Industry √ó Project</div>
      <div class="section-action">üü¢ On Track &nbsp; üü° At Risk &nbsp; üî¥ Off Track &nbsp; ‚Äî N/A</div>
    </div>
    <div class="table-scroll">
      <table class="heatmap-table">
        <thead>
          <tr>
            <th style="text-align:left">Industry</th>
            <th>Anthropic<br>Med QA</th>
            <th>OpenAI<br>Legal</th>
            <th>Google DM<br>Finance</th>
            <th>Anthropic<br>STEM</th>
            <th>OpenAI<br>Language</th>
            <th>Cohere<br>Code</th>
            <th>OpenAI<br>Policy</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="font-weight:600;text-align:left;font-size:12px">Medical / Clinical</td>
            <td class="heat-1">76%</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td>
          </tr>
          <tr>
            <td style="font-weight:600;text-align:left;font-size:12px">Legal / Compliance</td>
            <td class="heat-0">‚Äî</td><td class="heat-2">45%</td><td class="heat-0">‚Äî</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-1">86%</td>
          </tr>
          <tr>
            <td style="font-weight:600;text-align:left;font-size:12px">Finance / Economics</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-3">20%</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td>
          </tr>
          <tr>
            <td style="font-weight:600;text-align:left;font-size:12px">STEM / Research</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td>
            <td class="heat-1">71%</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td>
          </tr>
          <tr>
            <td style="font-weight:600;text-align:left;font-size:12px">Language / Linguistics</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td>
            <td class="heat-0">‚Äî</td><td class="heat-2">43%</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td>
          </tr>
          <tr>
            <td style="font-weight:600;text-align:left;font-size:12px">Software / Engineering</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-1">69%</td><td class="heat-0">‚Äî</td>
          </tr>
          <tr>
            <td style="font-weight:600;text-align:left;font-size:12px">Policy / Social Science</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td>
            <td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-0">‚Äî</td><td class="heat-3">23%</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>

<!-- =================== TAB 2: FUNNEL DRILL-DOWN =================== -->
<div class="main" id="tab-funnel">

  <div class="stat-row">
    <div class="stat-card">
      <div class="stat-label">Sourced</div>
      <div class="stat-value">1,847</div>
      <div class="stat-sub">Total entered pipeline</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Applied</div>
      <div class="stat-value">1,204</div>
      <div class="stat-sub">65.2% conversion</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Screened</div>
      <div class="stat-value">781</div>
      <div class="stat-sub">64.9% conversion</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Vetting</div>
      <div class="stat-value">489</div>
      <div class="stat-sub">62.6% conversion</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Ready</div>
      <div class="stat-value" style="color:var(--green)">342</div>
      <div class="stat-sub">18.5% end-to-end</div>
    </div>
  </div>

  <div class="col-6040">
    <!-- SANKEY -->
    <div class="card">
      <div class="section-header">
        <div class="section-title"><div class="dot"></div>Funnel Flow ‚Äî Sankey Diagram</div>
        <div class="section-action">Filter: Legal Review ‚Äî OpenAI ‚ñº</div>
      </div>
      <div class="sankey-container">
        <svg id="sankey-svg" height="440"></svg>
      </div>
      <div class="legend">
        <div class="legend-item"><div class="legend-swatch" style="background:#4A90D9"></div>Job Sites</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#28A745"></div>Reactivation</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#FFC107"></div>Referral</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#9B59B6"></div>Paid</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#E67E22"></div>Partners</div>
      </div>
    </div>

    <!-- STAGE DETAIL + AGING -->
    <div style="display:flex;flex-direction:column;gap:16px">
      <div class="card">
        <div class="section-header">
          <div class="section-title"><div class="dot"></div>Stage Conversion Rates</div>
        </div>
        <table style="width:100%;border-collapse:collapse;font-size:12px">
          <thead>
            <tr>
              <th style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.4px;color:var(--gray-600);padding:6px 8px;border-bottom:2px solid var(--gray-200);text-align:left">Stage Transition</th>
              <th style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.4px;color:var(--gray-600);padding:6px 8px;border-bottom:2px solid var(--gray-200);text-align:right">Conv %</th>
              <th style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.4px;color:var(--gray-600);padding:6px 8px;border-bottom:2px solid var(--gray-200);text-align:right">Median Days</th>
              <th style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.4px;color:var(--gray-600);padding:6px 8px;border-bottom:2px solid var(--gray-200);text-align:left">Health</th>
            </tr>
          </thead>
          <tbody>
            <tr><td style="padding:8px;border-bottom:1px solid var(--gray-100)">Sourced ‚Üí Applied</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100);font-weight:600">65.2%</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100)">1.8d</td><td style="padding:8px;border-bottom:1px solid var(--gray-100)"><span class="rag-badge rag-green">Good</span></td></tr>
            <tr><td style="padding:8px;border-bottom:1px solid var(--gray-100)">Applied ‚Üí Screened</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100);font-weight:600">64.9%</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100)">2.3d</td><td style="padding:8px;border-bottom:1px solid var(--gray-100)"><span class="rag-badge rag-green">Good</span></td></tr>
            <tr><td style="padding:8px;border-bottom:1px solid var(--gray-100)">Screened ‚Üí Vetting</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100);font-weight:600">62.6%</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100)">1.1d</td><td style="padding:8px;border-bottom:1px solid var(--gray-100)"><span class="rag-badge rag-green">Good</span></td></tr>
            <tr><td style="padding:8px;border-bottom:1px solid var(--gray-100)">Vetting ‚Üí Onboarding</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100);font-weight:600;color:var(--yellow)">52.1%</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100)">4.7d</td><td style="padding:8px;border-bottom:1px solid var(--gray-100)"><span class="rag-badge rag-yellow">Watch</span></td></tr>
            <tr><td style="padding:8px;border-bottom:1px solid var(--gray-100)">Onboarding ‚Üí Ready</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100);font-weight:600;color:var(--red)">85.3%</td><td style="text-align:right;padding:8px;border-bottom:1px solid var(--gray-100)">1.3d</td><td style="padding:8px;border-bottom:1px solid var(--gray-100)"><span class="rag-badge rag-green">Good</span></td></tr>
          </tbody>
        </table>
      </div>

      <div class="card">
        <div class="section-header">
          <div class="section-title"><div class="dot" style="background:var(--red)"></div>Aging Buckets ‚Äî Vetting Stage</div>
        </div>
        <div style="display:flex;gap:12px;margin-bottom:12px">
          <div style="flex:1;background:var(--green-light);border-radius:8px;padding:12px;text-align:center">
            <div style="font-size:22px;font-weight:700;color:var(--green)">131</div>
            <div style="font-size:11px;color:#155724;font-weight:600">0‚Äì3 days</div>
            <div style="font-size:10px;color:#155724">Healthy</div>
          </div>
          <div style="flex:1;background:var(--yellow-light);border-radius:8px;padding:12px;text-align:center">
            <div style="font-size:22px;font-weight:700;color:var(--yellow)">84</div>
            <div style="font-size:11px;color:#856404;font-weight:600">3‚Äì7 days</div>
            <div style="font-size:10px;color:#856404">Watch</div>
          </div>
          <div style="flex:1;background:var(--red-light);border-radius:8px;padding:12px;text-align:center">
            <div style="font-size:22px;font-weight:700;color:var(--red)">47</div>
            <div style="font-size:11px;color:#721c24;font-weight:600">7+ days</div>
            <div style="font-size:10px;color:#721c24">Critical</div>
          </div>
        </div>
        <div style="font-size:11px;color:var(--gray-600);padding:8px;background:var(--red-light);border-radius:6px;border-left:3px solid var(--red)">
          <strong>Top drop-off reason:</strong> IDV failure via Persona (38%), Tax/banking abandonment (29%), Legal agreement incomplete (18%), Unresponsive (15%)
        </div>
      </div>
    </div>
  </div>
</div>

<!-- =================== TAB 3: CHANNEL PERFORMANCE =================== -->
<div class="main" id="tab-channel">

  <div class="stat-row">
    <div class="stat-card">
      <div class="stat-label">Top Channel (Volume)</div>
      <div class="stat-value" style="font-size:20px;margin-top:4px">Job Sites</div>
      <div class="stat-sub">LinkedIn: 487 sourced</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Top Channel (Yield)</div>
      <div class="stat-value" style="font-size:20px;margin-top:4px">Reactivation</div>
      <div class="stat-sub">Score: 0.82 adj. yield</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Best Cost/Deployable</div>
      <div class="stat-value" style="font-size:20px;margin-top:4px">Referral</div>
      <div class="stat-sub">$12 per Ready expert</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Reactivation Pool</div>
      <div class="stat-value">312</div>
      <div class="stat-sub">Lapsed experts available</div>
      <div class="stat-delta up">‚Üë 47 match active projects</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Paid Spend (30d)</div>
      <div class="stat-value">$8.4K</div>
      <div class="stat-sub">Ads + vendor sourcing</div>
      <div class="stat-delta down">CPD: $67 avg</div>
    </div>
  </div>

  <div class="two-col">
    <!-- CHANNEL VOLUME BARS -->
    <div class="card">
      <div class="section-header">
        <div class="section-title"><div class="dot"></div>Volume by Channel</div>
      </div>

      <div class="channel-row">
        <div class="channel-header">
          <div class="channel-name">üìã Job Sites</div>
          <div class="channel-meta">
            <span class="channel-count">748 sourced</span>
            <span class="channel-yield">Conv: 14.2%</span>
          </div>
        </div>
        <div class="channel-bar-wrap">
          <div class="channel-bar-seg" style="width:26%;background:#4A90D9"></div>
          <div class="channel-bar-seg" style="width:34%;background:#6BA8E0"></div>
          <div class="channel-bar-seg" style="width:40%;background:#9CC3EC"></div>
        </div>
        <div style="display:flex;gap:16px;margin-top:4px;font-size:10px;color:var(--gray-600)">
          <span style="color:#4A90D9">‚ñ† Pareto Postings (198)</span>
          <span style="color:#6BA8E0">‚ñ† LinkedIn (256)</span>
          <span style="color:#9CC3EC">‚ñ† Indeed (294)</span>
        </div>
      </div>

      <div class="channel-row">
        <div class="channel-header">
          <div class="channel-name">‚ôªÔ∏è Reactivation</div>
          <div class="channel-meta">
            <span class="channel-count">187 contacted</span>
            <span class="channel-yield">Conv: 41.2% ‚≠ê</span>
          </div>
        </div>
        <div class="channel-bar-wrap">
          <div class="channel-bar-seg" style="width:100%;background:#28A745"></div>
        </div>
        <div style="margin-top:4px;font-size:10px;color:var(--gray-600)">77 reached Ready ‚Äî fastest time-to-deploy (3.1d median)</div>
      </div>

      <div class="channel-row">
        <div class="channel-header">
          <div class="channel-name">ü§ù Referral</div>
          <div class="channel-meta">
            <span class="channel-count">312 sourced</span>
            <span class="channel-yield">Conv: 28.5%</span>
          </div>
        </div>
        <div class="channel-bar-wrap">
          <div class="channel-bar-seg" style="width:100%;background:#FFC107"></div>
        </div>
        <div style="margin-top:4px;font-size:10px;color:var(--gray-600)">89 Ready ‚Äî lowest cost per deployable ($12)</div>
      </div>

      <div class="channel-row">
        <div class="channel-header">
          <div class="channel-name">üí∞ Paid (Ads + Vendor)</div>
          <div class="channel-meta">
            <span class="channel-count">421 sourced</span>
            <span class="channel-yield">Conv: 11.4%</span>
          </div>
        </div>
        <div class="channel-bar-wrap">
          <div class="channel-bar-seg" style="width:60%;background:#9B59B6"></div>
          <div class="channel-bar-seg" style="width:40%;background:#C39BD3"></div>
        </div>
        <div style="display:flex;gap:16px;margin-top:4px;font-size:10px;color:var(--gray-600)">
          <span style="color:#9B59B6">‚ñ† Ads (253)</span>
          <span style="color:#C39BD3">‚ñ† Vendor (168)</span>
        </div>
      </div>

      <div class="channel-row">
        <div class="channel-header">
          <div class="channel-name">üéì Partner (University)</div>
          <div class="channel-meta">
            <span class="channel-count">179 sourced</span>
            <span class="channel-yield">Conv: 22.3%</span>
          </div>
        </div>
        <div class="channel-bar-wrap">
          <div class="channel-bar-seg" style="width:100%;background:#E67E22"></div>
        </div>
        <div style="margin-top:4px;font-size:10px;color:var(--gray-600)">40 Ready ‚Äî strong STEM domain match (68%)</div>
      </div>
    </div>

    <!-- CHANNEL EFFICIENCY QUADRANT -->
    <div class="card">
      <div class="section-header">
        <div class="section-title"><div class="dot"></div>Channel Efficiency ‚Äî Conversion vs. Speed</div>
      </div>
      <svg id="scatter-svg" height="320" width="100%"></svg>
      <div class="legend" style="margin-top:8px">
        <div class="legend-item"><div class="legend-swatch" style="background:#4A90D9;border-radius:50%"></div>Job Sites</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#28A745;border-radius:50%"></div>Reactivation</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#FFC107;border-radius:50%"></div>Referral</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#9B59B6;border-radius:50%"></div>Paid</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#E67E22;border-radius:50%"></div>Partners</div>
      </div>
      <div style="font-size:11px;color:var(--gray-600);margin-top:8px">X-axis: Avg days to Ready (lower = faster) &nbsp;|&nbsp; Y-axis: Conversion rate &nbsp;|&nbsp; Bubble size: Volume</div>
    </div>
  </div>

  <!-- COST PER DEPLOYABLE -->
  <div class="card" style="margin-bottom:20px">
    <div class="section-header">
      <div class="section-title"><div class="dot"></div>Cost Per Deployable Expert by Channel</div>
    </div>
    <div style="display:flex;gap:16px;align-items:flex-end;padding:8px 0;height:120px">
      <div style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%">
        <div style="font-size:12px;font-weight:700;color:var(--navy);margin-bottom:4px">$24</div>
        <div style="width:100%;background:#4A90D9;height:58%;border-radius:4px 4px 0 0"></div>
        <div style="font-size:10px;color:var(--gray-600);margin-top:4px">Job Sites</div>
      </div>
      <div style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%">
        <div style="font-size:12px;font-weight:700;color:var(--navy);margin-bottom:4px">$8</div>
        <div style="width:100%;background:#28A745;height:19%;border-radius:4px 4px 0 0"></div>
        <div style="font-size:10px;color:var(--gray-600);margin-top:4px">Reactivation</div>
      </div>
      <div style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%">
        <div style="font-size:12px;font-weight:700;color:var(--navy);margin-bottom:4px">$12</div>
        <div style="width:100%;background:#FFC107;height:29%;border-radius:4px 4px 0 0"></div>
        <div style="font-size:10px;color:var(--gray-600);margin-top:4px">Referral</div>
      </div>
      <div style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%">
        <div style="font-size:12px;font-weight:700;color:var(--red);margin-bottom:4px">$67</div>
        <div style="width:100%;background:#9B59B6;height:100%;border-radius:4px 4px 0 0"></div>
        <div style="font-size:10px;color:var(--gray-600);margin-top:4px">Paid</div>
      </div>
      <div style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%">
        <div style="font-size:12px;font-weight:700;color:var(--navy);margin-bottom:4px">$18</div>
        <div style="width:100%;background:#E67E22;height:43%;border-radius:4px 4px 0 0"></div>
        <div style="font-size:10px;color:var(--gray-600);margin-top:4px">Partners</div>
      </div>
    </div>
  </div>

</div>

<!-- =================== TAB 4: RECRUITER PERFORMANCE =================== -->
<div class="main" id="tab-recruiter">

  <div class="stat-row">
    <div class="stat-card">
      <div class="stat-label">Active Recruiters</div>
      <div class="stat-value">6</div>
      <div class="stat-sub">Jason, Matthew, Yvenia,<br>Chandana, Faraz, Vishal</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Avg. Pipeline / Recruiter</div>
      <div class="stat-value">308</div>
      <div class="stat-sub">Range: 198‚Äì441</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Top Conversion Rate</div>
      <div class="stat-value">24.1%</div>
      <div class="stat-sub">Yvenia ‚Äî Sourced ‚Üí Ready</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Fastest Time to Ready</div>
      <div class="stat-value">8.4d</div>
      <div class="stat-sub">Chandana ‚Äî 30d median</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Total Active Projects</div>
      <div class="stat-value">9</div>
      <div class="stat-sub">1‚Äì3 projects per recruiter</div>
    </div>
  </div>

  <div class="col-6040">
    <!-- RECRUITER TABLE -->
    <div class="card">
      <div class="section-header">
        <div class="section-title"><div class="dot"></div>Recruiter Funnel Summary</div>
        <div class="section-action">‚Üì Sort by conversion</div>
      </div>
      <table class="rec-table">
        <thead>
          <tr>
            <th>Recruiter</th>
            <th>Sourced</th>
            <th>Ready</th>
            <th>Conv %</th>
            <th>Median Days</th>
            <th>Pipeline</th>
            <th>Projects</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span class="rec-avatar">YV</span>Yvenia</td>
            <td>298</td><td>72</td>
            <td><strong style="color:var(--green)">24.1%</strong></td>
            <td>9.2d</td>
            <td><div class="sparkbar-wrap"><div class="sparkbar" style="width:67%;background:var(--green)"></div></div></td>
            <td>2</td>
          </tr>
          <tr>
            <td><span class="rec-avatar" style="background:#9B59B6">CH</span>Chandana</td>
            <td>341</td><td>74</td>
            <td><strong style="color:var(--green)">21.7%</strong></td>
            <td>8.4d</td>
            <td><div class="sparkbar-wrap"><div class="sparkbar" style="width:72%;background:var(--green)"></div></div></td>
            <td>2</td>
          </tr>
          <tr>
            <td><span class="rec-avatar" style="background:#E67E22">JA</span>Jason</td>
            <td>412</td><td>79</td>
            <td><strong style="color:var(--accent)">19.2%</strong></td>
            <td>11.1d</td>
            <td><div class="sparkbar-wrap"><div class="sparkbar" style="width:82%;background:var(--accent)"></div></div></td>
            <td>3</td>
          </tr>
          <tr>
            <td><span class="rec-avatar" style="background:#28A745">FA</span>Faraz</td>
            <td>271</td><td>49</td>
            <td><strong style="color:var(--accent)">18.1%</strong></td>
            <td>10.7d</td>
            <td><div class="sparkbar-wrap"><div class="sparkbar" style="width:54%;background:var(--accent)"></div></div></td>
            <td>1</td>
          </tr>
          <tr>
            <td><span class="rec-avatar" style="background:#FFC107;color:var(--gray-800)">MA</span>Matthew</td>
            <td>324</td><td>46</td>
            <td><strong style="color:var(--yellow)">14.2%</strong></td>
            <td>13.8d</td>
            <td><div class="sparkbar-wrap"><div class="sparkbar" style="width:65%;background:var(--yellow)"></div></div></td>
            <td>2</td>
          </tr>
          <tr>
            <td><span class="rec-avatar" style="background:#DC3545">VI</span>Vishal</td>
            <td>201</td><td>22</td>
            <td><strong style="color:var(--red)">10.9%</strong></td>
            <td>16.4d</td>
            <td><div class="sparkbar-wrap"><div class="sparkbar" style="width:40%;background:var(--red)"></div></div></td>
            <td>1</td>
          </tr>
        </tbody>
      </table>
      <div style="font-size:11px;color:var(--gray-600);margin-top:12px;padding:8px;background:var(--yellow-light);border-radius:6px;border-left:3px solid var(--yellow)">
        ‚ö†Ô∏è <strong>Coaching flag:</strong> Vishal ‚Äî conversion rate 10.9% vs. team avg 18.5%, median time-to-ready 16.4d vs. 11.2d team avg. Recommend funnel review for stage bottleneck attribution.
      </div>
    </div>

    <!-- RECRUITER x STAGE HEATMAP -->
    <div style="display:flex;flex-direction:column;gap:16px">
      <div class="card">
        <div class="section-header">
          <div class="section-title"><div class="dot"></div>Bottleneck Heatmap ‚Äî Recruiter √ó Stage</div>
        </div>
        <table class="heatmap-table">
          <thead>
            <tr>
              <th style="text-align:left">Recruiter</th>
              <th>Sourced‚ÜíApplied</th>
              <th>Applied‚ÜíScreened</th>
              <th>Screened‚ÜíVetting</th>
              <th>Vetting‚ÜíOnboard</th>
              <th>Onboard‚ÜíReady</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="font-weight:600;text-align:left;font-size:12px">Yvenia</td>
              <td class="heat-1">71%</td><td class="heat-1">68%</td><td class="heat-1">65%</td><td class="heat-1">61%</td><td class="heat-1">88%</td>
            </tr>
            <tr>
              <td style="font-weight:600;text-align:left;font-size:12px">Chandana</td>
              <td class="heat-1">74%</td><td class="heat-1">65%</td><td class="heat-1">69%</td><td class="heat-2">51%</td><td class="heat-1">86%</td>
            </tr>
            <tr>
              <td style="font-weight:600;text-align:left;font-size:12px">Jason</td>
              <td class="heat-1">68%</td><td class="heat-2">58%</td><td class="heat-1">66%</td><td class="heat-2">49%</td><td class="heat-1">84%</td>
            </tr>
            <tr>
              <td style="font-weight:600;text-align:left;font-size:12px">Faraz</td>
              <td class="heat-2">61%</td><td class="heat-1">67%</td><td class="heat-1">64%</td><td class="heat-2">48%</td><td class="heat-1">87%</td>
            </tr>
            <tr>
              <td style="font-weight:600;text-align:left;font-size:12px">Matthew</td>
              <td class="heat-2">59%</td><td class="heat-2">54%</td><td class="heat-2">58%</td><td class="heat-3">38%</td><td class="heat-1">83%</td>
            </tr>
            <tr>
              <td style="font-weight:600;text-align:left;font-size:12px">Vishal</td>
              <td class="heat-2">52%</td><td class="heat-3">44%</td><td class="heat-2">61%</td><td class="heat-3">31%</td><td class="heat-2">78%</td>
            </tr>
          </tbody>
        </table>
        <div style="display:flex;gap:12px;margin-top:8px;font-size:10px;color:var(--gray-600)">
          <span style="color:var(--green)">‚ñ† Good (60%+)</span>
          <span style="color:var(--yellow)">‚ñ† Watch (45‚Äì60%)</span>
          <span style="color:var(--red)">‚ñ† Critical (&lt;45%)</span>
        </div>
      </div>

      <div class="card">
        <div class="section-header">
          <div class="section-title"><div class="dot"></div>Capacity Utilization</div>
        </div>
        <div style="display:flex;flex-direction:column;gap:8px;font-size:12px">
          <div style="display:flex;align-items:center;gap:8px">
            <span style="width:72px;font-weight:600">Jason</span>
            <div style="flex:1;height:8px;background:var(--gray-200);border-radius:4px;overflow:hidden">
              <div style="width:95%;height:100%;background:#DC3545;border-radius:4px"></div>
            </div>
            <span style="color:var(--red);font-weight:600">95%</span><span style="color:var(--gray-600);font-size:10px">3 projects</span>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <span style="width:72px;font-weight:600">Matthew</span>
            <div style="flex:1;height:8px;background:var(--gray-200);border-radius:4px;overflow:hidden">
              <div style="width:78%;height:100%;background:var(--yellow);border-radius:4px"></div>
            </div>
            <span style="color:var(--yellow);font-weight:600">78%</span><span style="color:var(--gray-600);font-size:10px">2 projects</span>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <span style="width:72px;font-weight:600">Yvenia</span>
            <div style="flex:1;height:8px;background:var(--gray-200);border-radius:4px;overflow:hidden">
              <div style="width:72%;height:100%;background:var(--accent);border-radius:4px"></div>
            </div>
            <span style="color:var(--accent);font-weight:600">72%</span><span style="color:var(--gray-600);font-size:10px">2 projects</span>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <span style="width:72px;font-weight:600">Chandana</span>
            <div style="flex:1;height:8px;background:var(--gray-200);border-radius:4px;overflow:hidden">
              <div style="width:68%;height:100%;background:var(--accent);border-radius:4px"></div>
            </div>
            <span style="color:var(--accent);font-weight:600">68%</span><span style="color:var(--gray-600);font-size:10px">2 projects</span>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <span style="width:72px;font-weight:600">Faraz</span>
            <div style="flex:1;height:8px;background:var(--gray-200);border-radius:4px;overflow:hidden">
              <div style="width:55%;height:100%;background:var(--green);border-radius:4px"></div>
            </div>
            <span style="color:var(--green);font-weight:600">55%</span><span style="color:var(--gray-600);font-size:10px">1 project</span>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <span style="width:72px;font-weight:600">Vishal</span>
            <div style="flex:1;height:8px;background:var(--gray-200);border-radius:4px;overflow:hidden">
              <div style="width:42%;height:100%;background:var(--green);border-radius:4px"></div>
            </div>
            <span style="color:var(--green);font-weight:600">42%</span><span style="color:var(--gray-600);font-size:10px">1 project</span>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<div class="dash-footer">
  Expert Growth Dashboard ‚Äî Pareto AI &nbsp;|&nbsp; Strategy & Operations &nbsp;|&nbsp; v1.0 Wireframe &nbsp;|&nbsp; Internal Use Only
</div>

<script>
// TAB NAVIGATION
function showTab(id) {
  document.querySelectorAll('.main').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
  document.getElementById('tab-' + id).classList.add('active');
  event.target.classList.add('active');
}

// SANKEY DIAGRAM
function drawSankey() {
  const svg = d3.select('#sankey-svg');
  const W = document.getElementById('sankey-svg').parentElement.clientWidth - 36;
  const H = 420;
  svg.attr('width', W).attr('height', H);

  const stages = ['Sourced', 'Applied', 'Screened', 'Vetting', 'Onboarding\nReview', 'Ready'];
  const counts = [1847, 1204, 781, 489, 416, 342];
  const dropoffs = [643, 423, 292, 73, 74];
  const dropLabels = ['Not applied (35%)', 'Failed screen (35%)', 'IDV/legal drop (37%)', 'Abandoned (15%)', 'DDL rejected (15%)'];

  const channelColors = ['#4A90D9','#28A745','#FFC107','#9B59B6','#E67E22'];
  const channelNames = ['Job Sites','Reactivation','Referral','Paid','Partners'];
  const channelProps = [0.40, 0.10, 0.17, 0.23, 0.10]; // proportions of sourced

  const maxCount = counts[0];
  const maxH = H - 80;
  const stageW = W / (stages.length + 0.5);
  const nodeW = 28;

  const g = svg.append('g').attr('transform', 'translate(20, 20)');

  // Draw flows between stages
  for (let i = 0; i < stages.length - 1; i++) {
    const x1 = i * stageW + nodeW;
    const x2 = (i + 1) * stageW;
    const h1 = (counts[i] / maxCount) * maxH;
    const h2 = (counts[i+1] / maxCount) * maxH;
    const y1 = (maxH - h1) / 2;
    const y2 = (maxH - h2) / 2;

    // Flowing path
    const path = `M ${x1} ${y1} C ${(x1+x2)/2} ${y1}, ${(x1+x2)/2} ${y2}, ${x2} ${y2} L ${x2} ${y2+h2} C ${(x1+x2)/2} ${y2+h2}, ${(x1+x2)/2} ${y1+h1}, ${x1} ${y1+h1} Z`;
    g.append('path').attr('d', path).attr('fill', '#4A90D9').attr('opacity', 0.15);

    // Drop-off annotation
    if (i < dropoffs.length) {
      const dropH = (dropoffs[i] / maxCount) * maxH;
      const dropY = y1 + h1 - dropH/2 + h1/2;
      g.append('text').attr('class','sankey-rate')
        .attr('x', (x1+x2)/2).attr('y', (maxH+40))
        .attr('text-anchor','middle')
        .text(`-${dropoffs[i]}`);
    }
  }

  // Draw nodes and labels
  stages.forEach((stage, i) => {
    const x = i * stageW;
    const h = (counts[i] / maxCount) * maxH;
    const y = (maxH - h) / 2;

    // Channel color stack for first node
    if (i === 0) {
      let cumY = y;
      channelProps.forEach((prop, ci) => {
        const segH = prop * h;
        g.append('rect').attr('x', x).attr('y', cumY).attr('width', nodeW).attr('height', segH)
          .attr('fill', channelColors[ci]).attr('rx', 2);
        cumY += segH;
      });
    } else {
      g.append('rect').attr('x', x).attr('y', y).attr('width', nodeW).attr('height', h)
        .attr('fill', i === stages.length-1 ? '#28A745' : '#2E6DA4').attr('rx', 2).attr('opacity', 0.85);
    }

    // Stage label
    const labelY = stage.includes('\n') ? y - 22 : y - 12;
    stage.split('\n').forEach((line, li) => {
      g.append('text').attr('class','sankey-label')
        .attr('x', x + nodeW/2).attr('y', labelY + li*14)
        .attr('text-anchor','middle').text(line);
    });

    // Count label
    g.append('text').attr('class','sankey-count')
      .attr('x', x + nodeW/2).attr('y', y + h + 14)
      .attr('text-anchor','middle').text(`n=${counts[i].toLocaleString()}`);

    // Conversion rate
    if (i > 0) {
      const conv = ((counts[i]/counts[i-1])*100).toFixed(1);
      g.append('text').attr('class','sankey-count')
        .attr('x', x + nodeW/2).attr('y', y + h + 26)
        .attr('text-anchor','middle').attr('fill','#2E6DA4').attr('font-weight','600')
        .text(`${conv}%`);
    }
  });
}

// SCATTER PLOT (Channel Efficiency)
function drawScatter() {
  const svg = d3.select('#scatter-svg');
  const container = document.getElementById('scatter-svg').parentElement;
  const W = container.clientWidth - 36;
  const H = 300;
  svg.attr('width', W).attr('height', H);

  const margin = {top:20, right:20, bottom:40, left:50};
  const innerW = W - margin.left - margin.right;
  const innerH = H - margin.top - margin.bottom;

  const data = [
    {name:'LinkedIn', channel:'Job Sites', x:13.2, y:14, r:256, color:'#4A90D9'},
    {name:'Indeed', channel:'Job Sites', x:14.8, y:13, r:294, color:'#6BA8E0'},
    {name:'Pareto Posts', channel:'Job Sites', x:11.1, y:16, r:198, color:'#9CC3EC'},
    {name:'Reactivation', channel:'Reactivation', x:3.1, y:41, r:187, color:'#28A745'},
    {name:'Referral', channel:'Referral', x:7.4, y:29, r:312, color:'#FFC107'},
    {name:'Paid Ads', channel:'Paid', x:16.2, y:11, r:253, color:'#9B59B6'},
    {name:'Vendor', channel:'Paid', x:17.8, y:12, r:168, color:'#C39BD3'},
    {name:'University', channel:'Partners', x:9.6, y:22, r:179, color:'#E67E22'},
  ];

  const xScale = d3.scaleLinear().domain([0, 20]).range([0, innerW]);
  const yScale = d3.scaleLinear().domain([0, 50]).range([innerH, 0]);
  const rScale = d3.scaleSqrt().domain([0, 400]).range([4, 22]);

  const g = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);

  // Quadrant lines
  g.append('line').attr('x1',xScale(10)).attr('x2',xScale(10)).attr('y1',0).attr('y2',innerH)
    .attr('stroke','#E9ECEF').attr('stroke-dasharray','4,4');
  g.append('line').attr('x1',0).attr('x2',innerW).attr('y1',yScale(25)).attr('y2',yScale(25))
    .attr('stroke','#E9ECEF').attr('stroke-dasharray','4,4');

  // Quadrant labels
  g.append('text').attr('x',4).attr('y',12).attr('fill','#28A745').attr('font-size','9px').attr('font-weight','700').attr('font-family','var(--font)').text('BEST ‚òÖ Fast + High Conv');
  g.append('text').attr('x',xScale(11)).attr('y',12).attr('fill','#FFC107').attr('font-size','9px').attr('font-weight','700').attr('font-family','var(--font)').text('High conv, slow');
  g.append('text').attr('x',4).attr('y',innerH-4).attr('fill','#FFC107').attr('font-size','9px').attr('font-weight','700').attr('font-family','var(--font)').text('Fast but low conv');
  g.append('text').attr('x',xScale(11)).attr('y',innerH-4).attr('fill','#DC3545').attr('font-size','9px').attr('font-weight','700').attr('font-family','var(--font)').text('Avoid: slow + low conv');

  // Axes
  g.append('g').attr('transform',`translate(0,${innerH})`).call(d3.axisBottom(xScale).ticks(5).tickFormat(d=>d+'d'))
    .selectAll('text').attr('font-size','10px').attr('font-family','var(--font)');
  g.append('g').call(d3.axisLeft(yScale).ticks(5).tickFormat(d=>d+'%'))
    .selectAll('text').attr('font-size','10px').attr('font-family','var(--font)');

  // Bubbles
  data.forEach(d => {
    g.append('circle').attr('cx', xScale(d.x)).attr('cy', yScale(d.y)).attr('r', rScale(d.r))
      .attr('fill', d.color).attr('opacity', 0.75).attr('stroke','white').attr('stroke-width',1.5);
    g.append('text').attr('x', xScale(d.x)).attr('y', yScale(d.y)+3)
      .attr('text-anchor','middle').attr('font-size','9px').attr('font-weight','700').attr('font-family','var(--font)').attr('fill','white')
      .text(d.name.split(' ')[0]);
  });
}

window.addEventListener('load', () => {
  drawSankey();
  drawScatter();
});

window.addEventListener('resize', () => {
  d3.select('#sankey-svg').selectAll('*').remove();
  d3.select('#scatter-svg').selectAll('*').remove();
  drawSankey();
  drawScatter();
});
</script>
</body>
</html>
